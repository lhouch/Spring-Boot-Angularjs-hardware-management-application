cac.controller('listdemandeController',function($scope,$http,$filter,$routeParams,$rootScope){var page=0;var urlp=$rootScope.domainename;init();$scope.nav=($routeParams.navr)?true:false;$routeParams.navr=$scope.nav;$scope.navsty=function(){$scope.nav=($scope.nav)?false:true;};$scope.delet=function(ids){if(ids<0){$http.delete(urlp+"demanded/"+idd).then(function(response){init();},function(response){alert("Error");});}else{demande=filterDemande(ids);$scope.msgsup="Voulez-vous vraiment supprimer la demande ?";idd=ids;}};function init(){$http.get(urlp+"Alldemandedem?page="+page).success(function(data){$scope.listdemandenew=data;$http.get(urlp+"updatev").success(function(data){$rootScope.listdemandenew=[];});});}; $scope.suivente=function(){page=$scope.listdemandenew.number+1;init();};$scope.precedent=function(){page=$scope.listdemandenew.number-1;init();};function filterDemande(ids){return($filter('filter')($scope.listdemandenew,{id:ids})[0]);}});